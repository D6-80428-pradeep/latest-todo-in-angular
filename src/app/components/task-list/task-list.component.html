<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="task-container bg-white p-4 rounded shadow">
    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <label for="newTask" class="font-weight-bold mb-2">New Task</label>
          <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Add New task..." [(ngModel)]="newTaskTitle" autofocus>
            <div class="input-group-append">
              <button class="btn btn add-task-btn" (click)="addTask()" [disabled]="!newTaskTitle.trim()"
                data-bs-toggle="tooltip" title="Add Task">
                <img src="../../../assets/plus-sign_11606983.png" width="20" height="20">
              </button>
            </div>
          </div>
        </div>
        <div class="flex-grow-1 ">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Search Task ..." (keyup)="filterTasks($event)" aria-label="Search" >
          </div>
      </div>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-md-12">Today's Task List
        <ul class="list-group task-list-container">
          <li *ngFor="let task of tasks" class="list-group-item d-flex justify-content-between align-items-center mb-2">
            <span [class.completed]="task.completed" class="task-title flex-grow-1">{{ task.title }}</span>
            <div>
              <button class="btn btn-sm btn-light mr-2" (click)="markAsCompleted(task)" [disabled]="task.completed"
                data-bs-toggle="tooltip" title="Mark Completed">
                <svg fill="#000000" width="20" height="20" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M960 1807.059c-467.125 0-847.059-379.934-847.059-847.059 0-467.125 379.934-847.059 847.059-847.059 467.125 0 847.059 379.934 847.059 847.059 0 467.125-379.934 847.059-847.059 847.059M960 0C430.645 0 0 430.645 0 960s430.645 960 960 960 960-430.645 960-960S1489.355 0 960 0M854.344 1157.975 583.059 886.69l-79.85 79.85 351.135 351.133L1454.4 717.617l-79.85-79.85-520.206 520.208Z"
                    fill-rule="evenodd" />
                </svg>
              </button>
              <button class="btn btn-sm btn-light mr-2" (click)="openEditModal(task)" [disabled]="task.completed"
                data-bs-toggle="tooltip" title="Edit">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="m3.99 16.854-1.314 3.504a.75.75 0 0 0 .966.965l3.503-1.314a3 3 0 0 0 1.068-.687L18.36 9.175s-.354-1.061-1.414-2.122c-1.06-1.06-2.122-1.414-2.122-1.414L4.677 15.786a3 3 0 0 0-.687 1.068zm12.249-12.63 1.383-1.383c.248-.248.579-.406.925-.348.487.08 1.232.322 1.934 1.025.703.703.945 1.447 1.025 1.934.058.346-.1.677-.348.925L19.774 7.76s-.353-1.06-1.414-2.12c-1.06-1.062-2.121-1.415-2.121-1.415z"
                    fill="#000000" />
                </svg>
              </button>
              <button class="btn btn-sm btn-light" (click)="deleteTask(task.id)" data-bs-toggle="tooltip"
                title="Delete">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 32 32">
                  <path
                    d="M 15 4 C 14.476563 4 13.941406 4.183594 13.5625 4.5625 C 13.183594 4.941406 13 5.476563 13 6 L 13 7 L 7 7 L 7 9 L 8 9 L 8 25 C 8 26.644531 9.355469 28 11 28 L 23 28 C 24.644531 28 26 26.644531 26 25 L 26 9 L 27 9 L 27 7 L 21 7 L 21 6 C 21 5.476563 20.816406 4.941406 20.4375 4.5625 C 20.058594 4.183594 19.523438 4 19 4 Z M 15 6 L 19 6 L 19 7 L 15 7 Z M 10 9 L 24 9 L 24 25 C 24 25.554688 23.554688 26 23 26 L 11 26 C 10.445313 26 10 25.554688 10 25 Z M 12 12 L 12 23 L 14 23 L 14 12 Z M 16 12 L 16 23 L 18 23 L 18 12 Z M 20 12 L 20 23 L 22 23 L 22 12 Z">
                  </path>
                </svg>
              </button>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- Edit Task Modal -->
<div class="modal fade" id="editTaskModal" tabindex="-1" aria-labelledby="editTaskModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editTaskModalLabel">Edit Task</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="editTaskTitle">Task Title</label>
          <input type="text" class="form-control" id="editTaskTitle" [(ngModel)]="editTaskTitle">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="saveTask()">Save changes</button>
      </div>
    </div>
  </div>
</div>